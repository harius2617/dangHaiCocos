{"version":3,"sources":["createAcc.js"],"names":["cc","Class","extends","Component","properties","tooltipUserName","Label","tooltipPw","tooltipFullName","userNameBox","Node","pwBox","fullNameBox","noti","RichText","item","Prefab","content","_listUser","onLoad","node","active","getComponent","Button","interactable","fullNameCheck","strFullName","EditBox","string","length","userNameCheck","str","checkUserInited","push","i","j","pop","passwordCheck","strPw","match","hideToolTip","showNoti","name","sigUpBtn","userNameInput","instantiate","addChild"],"mappings":"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","file":"createAcc.js","sourceRoot":"../../../../assets/Script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        tooltipUserName: cc.Label,\n        tooltipPw: cc.Label,\n        tooltipFullName: cc.Label,\n        userNameBox: cc.Node,\n        pwBox: cc.Node,\n        fullNameBox: cc.Node,\n        noti: cc.RichText,\n        item: cc.Prefab,\n        content: cc.Node,\n        _listUser: [],\n    },\n\n    onLoad(){\n        this.tooltipUserName.node.active = false;\n        this.tooltipPw.node.active = false;\n        this.noti.node.active = false;\n        this.node.getComponent(cc.Button).interactable = false;\n    },\n\n    fullNameCheck(){\n        const strFullName = this.fullNameBox.getComponent(cc.EditBox).string;\n        if(strFullName.length > 0){\n            this.tooltipFullName.node.active = false;\n            return true;\n        }else {\n            this.tooltipFullName.node.active = true;\n            this.tooltipFullName.string = \"Enter your name\";\n        }\n    }, \n    \n    userNameCheck(){\n        const str = this.userNameBox.getComponent(cc.EditBox).string;\n        if(str.length < 6) {\n            this.tooltipUserName.node.active = true;\n            this.tooltipUserName.string = \"Username must have at least 6 letters\";\n        }else{\n            this.tooltipUserName.node.active = false;\n            return true;\n        }\n    },\n\n    checkUserInited(str) {\n        this._listUser.push(str);\n        for(let i = 0; i < this._listUser.length; i++) {\n            for(let j = i +1; j <= this._listUser.length; j ++){\n                if(this._listUser[i] === this._listUser[j]) {\n                    this._listUser.pop();\n                    return false;\n                }\n            }\n        }\n        return true;\n    },\n        \n    passwordCheck(){\n        const strPw = this.pwBox.getComponent(cc.EditBox).string;\n        if(strPw.match(/[0-9]/gm) && strPw.match(/[A-Z]/gm) && (strPw.length >= 8)){\n            this.tooltipPw.node.active = false;\n            this.node.getComponent(cc.Button).interactable = true;\n            return true;\n        } else {\n            this.node.getComponent(cc.Button).interactable = false;\n            this.tooltipPw.node.active = true;\n            this.tooltipPw.string = \"Passwords must have at least 8 letters and \\ncontain at least one uppercase letters and one numbers.\";\n        }\n    },\n\n    hideToolTip(){\n        if(this.userNameBox.getComponent(cc.EditBox).string.length === 0){\n            this.tooltipUserName.node.active = false;\n        }\n        if(this.pwBox.getComponent(cc.EditBox).string.length === 0){\n            this.tooltipPw.node.active = false;\n        }\n    },\n\n    showNoti(){\n        const name = this.userNameBox.getComponent(cc.EditBox).string;\n        const str = `<color=#0fffff>Chúc mừng </c><color=#00ff00>${name}</c><color=#0fffff> đã đăng ký thành công</color>`;\n        this.noti.string = str;\n        this.noti.node.active = true;\n    },\n\n    sigUpBtn() {\n        if(this.fullNameCheck() && this.userNameCheck() && this.passwordCheck()){\n            this.showNoti();\n            if(this.checkUserInited(this.userNameBox.getComponent(cc.EditBox).string)){\n                let userNameInput = cc.instantiate(this.item)\n                this.content.addChild(userNameInput)\n                userNameInput.getComponent(cc.Label).string = \"User name: \" + this.userNameBox.getComponent(cc.EditBox).string;\n                this.userNameBox.getComponent(cc.EditBox).string = '';\n                this.fullNameBox.getComponent(cc.EditBox).string = '';\n                this.pwBox.getComponent(cc.EditBox).string = '';\n            }else {\n                this.tooltipUserName.node.active = true;\n                this.tooltipUserName.string = \"Username already exist\"\n            }\n        }\n    },\n\n});\n"]}